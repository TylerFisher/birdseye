{"version":"0.2.0","files":{"/Users/jdemorai/projects/dust-Linkedin/dustjs/test/uutest.js":{"nodes":{"0":{"index":0,"count":1},"1":{"index":1,"count":1},"6":{"index":6,"count":1},"16":{"index":16,"count":1},"22":{"index":22,"count":1},"24":{"index":24,"count":1},"29":{"index":29,"count":1},"34":{"index":34,"count":1},"40":{"index":40,"count":1},"55":{"index":55,"count":1},"68":{"index":68,"count":1},"77":{"index":77,"count":1},"82":{"index":82,"count":1},"88":{"index":88,"count":1},"90":{"index":90,"count":1}},"blocks":{"0":{"index":0,"count":1}},"hash":"0228200b5f18ec884bea987291e220ba","instrumentor":{"blockCounter":26,"nodeCounter":91,"source":"(function(uutest){\n\nfunction Test(id, test, timeout, callback) {\n  this.id = id;\n  this.test = test;\n  this.callback = callback;\n  this.timeout = timeout;\n}\n\nTest.prototype.run = function() {\n  var self = this;\n  self.timer = setTimeout(function() {\n    self.fail(new Error(\"TimeoutError\"));\n  }, self.timeout);\n  try {\n    self.test.call(self);\n  } catch(err) {\n    self.fail(err);\n  }\n}\n\nTest.prototype.equals = function(actual, expected, message) {\n  if (actual !== expected) {\n    var err = new Error();\n    if (message) err.message = message;\n    throw wrapAssertionError(err, actual, expected, \"===\");\n  }\n}\n\nTest.prototype.ifError = function(err) {\n  if (err) throw err;\n}\n\nTest.prototype.pass = function() {\n  clearTimeout(this.timer);\n  this.callback();\n}\n\nTest.prototype.fail = function(err) {\n  clearTimeout(this.timer);\n  this.callback(err);\n}\n\nuutest.Test = Test;\n\nfunction Suite(options) {\n  this.options = options || {};\n  this.timeout = options.timeout || 1000;\n  this.tests = [];\n}\n\nSuite.prototype.test = function(name, fn) {\n  var self = this;\n  self.tests.push(new Test(name, fn, self.timeout, function(err) {\n    if (err) {\n      err.testName = name;\n      self.errors.push(err);\n      self.emit(\"fail\", err);\n    } else {\n      self.emit(\"pass\", name);\n    }\n    self.pending--;\n    self.check();\n  }));\n}\n\nSuite.prototype.run = function() {\n  if (this.pending) return;\n  var self = this, len = self.tests.length;\n  self.errors = [];\n  self.emit(\"start\", self.tests);\n  self.start = new Date().getTime();\n  self.pending = len;\n  for (var i=0; i<len; i++) {\n    self.tests[i].run();\n  }\n}\n\nSuite.prototype.check = function() {\n  if (this.pending) return;\n  var len = this.tests.length,\n      passed = len - this.errors.length,\n      failed = len - passed;\n  this.emit(\"done\", passed, failed, new Date().getTime() - this.start);\n}\n\nSuite.prototype.emit = function(type) {\n  var event = this.options[type];\n  if (event) {\n    event.apply(this, Array.prototype.slice.call(arguments, 1));\n  }\n}\n\nuutest.Suite = Suite;\n\nfunction wrapAssertionError(err, actual, expected, operator) {\n  err.name = \"AssertionError\";\n  err.actual = actual;\n  err.expected = expected;\n  err.operator = operator;\n  return err;\n}\n\n})(typeof exports !== 'undefined' ? exports : window.uutest = {});","nodes":{"0":{"loc":{"start":{"line":1,"column":0},"end":{"line":104,"column":66}},"id":0},"1":{"loc":{"start":{"line":1,"column":0},"end":{"line":104,"column":65}},"id":1},"2":{"loc":{"start":{"line":4,"column":2},"end":{"line":4,"column":15}},"id":2},"3":{"loc":{"start":{"line":5,"column":2},"end":{"line":5,"column":19}},"id":3},"4":{"loc":{"start":{"line":6,"column":2},"end":{"line":6,"column":27}},"id":4},"5":{"loc":{"start":{"line":7,"column":2},"end":{"line":7,"column":25}},"id":5},"6":{"loc":{"start":{"line":10,"column":0},"end":{"line":22,"column":0}},"id":6},"7":{"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":18}},"id":7},"8":{"loc":{"start":{"line":12,"column":2},"end":{"line":14,"column":19}},"id":8},"9":{"loc":{"start":{"line":12,"column":15},"end":{"line":14,"column":18}},"id":9},"10":{"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":41}},"id":10},"11":{"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":40}},"id":11},"12":{"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":25}},"id":12},"13":{"loc":{"start":{"line":16,"column":4},"end":{"line":16,"column":24}},"id":13},"14":{"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":19}},"id":14},"15":{"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":18}},"id":15},"16":{"loc":{"start":{"line":22,"column":0},"end":{"line":30,"column":0}},"id":16},"17":{"loc":{"start":{"line":23,"column":6},"end":{"line":23,"column":25}},"id":17},"18":{"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":26}},"id":18},"19":{"loc":{"start":{"line":25,"column":17},"end":{"line":25,"column":39}},"id":19},"20":{"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":59}},"id":20},"21":{"loc":{"start":{"line":26,"column":10},"end":{"line":26,"column":58}},"id":21},"22":{"loc":{"start":{"line":30,"column":0},"end":{"line":34,"column":0}},"id":22},"23":{"loc":{"start":{"line":31,"column":11},"end":{"line":31,"column":21}},"id":23},"24":{"loc":{"start":{"line":34,"column":0},"end":{"line":39,"column":0}},"id":24},"25":{"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":27}},"id":25},"26":{"loc":{"start":{"line":35,"column":2},"end":{"line":35,"column":26}},"id":26},"27":{"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":18}},"id":27},"28":{"loc":{"start":{"line":36,"column":2},"end":{"line":36,"column":17}},"id":28},"29":{"loc":{"start":{"line":39,"column":0},"end":{"line":44,"column":0}},"id":29},"30":{"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":27}},"id":30},"31":{"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":26}},"id":31},"32":{"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":21}},"id":32},"33":{"loc":{"start":{"line":41,"column":2},"end":{"line":41,"column":20}},"id":33},"34":{"loc":{"start":{"line":44,"column":0},"end":{"line":44,"column":19}},"id":34},"35":{"loc":{"start":{"line":47,"column":2},"end":{"line":47,"column":31}},"id":35},"36":{"loc":{"start":{"line":47,"column":17},"end":{"line":47,"column":30}},"id":36},"37":{"loc":{"start":{"line":48,"column":2},"end":{"line":48,"column":41}},"id":37},"38":{"loc":{"start":{"line":48,"column":17},"end":{"line":48,"column":40}},"id":38},"39":{"loc":{"start":{"line":49,"column":2},"end":{"line":49,"column":18}},"id":39},"40":{"loc":{"start":{"line":52,"column":0},"end":{"line":67,"column":0}},"id":40},"41":{"loc":{"start":{"line":53,"column":2},"end":{"line":53,"column":18}},"id":41},"42":{"loc":{"start":{"line":54,"column":2},"end":{"line":64,"column":6}},"id":42},"43":{"loc":{"start":{"line":54,"column":2},"end":{"line":64,"column":5}},"id":43},"44":{"loc":{"start":{"line":56,"column":6},"end":{"line":56,"column":26}},"id":44},"45":{"loc":{"start":{"line":57,"column":6},"end":{"line":57,"column":28}},"id":45},"46":{"loc":{"start":{"line":57,"column":6},"end":{"line":57,"column":27}},"id":46},"47":{"loc":{"start":{"line":58,"column":6},"end":{"line":58,"column":29}},"id":47},"48":{"loc":{"start":{"line":58,"column":6},"end":{"line":58,"column":28}},"id":48},"49":{"loc":{"start":{"line":60,"column":6},"end":{"line":60,"column":30}},"id":49},"50":{"loc":{"start":{"line":60,"column":6},"end":{"line":60,"column":29}},"id":50},"51":{"loc":{"start":{"line":62,"column":4},"end":{"line":62,"column":19}},"id":51},"52":{"loc":{"start":{"line":62,"column":4},"end":{"line":62,"column":18}},"id":52},"53":{"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":17}},"id":53},"54":{"loc":{"start":{"line":63,"column":4},"end":{"line":63,"column":16}},"id":54},"55":{"loc":{"start":{"line":67,"column":0},"end":{"line":79,"column":0}},"id":55},"56":{"loc":{"start":{"line":68,"column":20},"end":{"line":68,"column":27}},"id":56},"57":{"loc":{"start":{"line":69,"column":2},"end":{"line":69,"column":43}},"id":57},"58":{"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":19}},"id":58},"59":{"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":33}},"id":59},"60":{"loc":{"start":{"line":71,"column":2},"end":{"line":71,"column":32}},"id":60},"61":{"loc":{"start":{"line":72,"column":2},"end":{"line":72,"column":36}},"id":61},"62":{"loc":{"start":{"line":72,"column":15},"end":{"line":72,"column":35}},"id":62},"63":{"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":21}},"id":63},"64":{"loc":{"start":{"line":74,"column":16},"end":{"line":74,"column":21}},"id":64},"65":{"loc":{"start":{"line":74,"column":23},"end":{"line":74,"column":26}},"id":65},"66":{"loc":{"start":{"line":75,"column":4},"end":{"line":75,"column":24}},"id":66},"67":{"loc":{"start":{"line":75,"column":4},"end":{"line":75,"column":23}},"id":67},"68":{"loc":{"start":{"line":79,"column":0},"end":{"line":87,"column":0}},"id":68},"69":{"loc":{"start":{"line":80,"column":20},"end":{"line":80,"column":27}},"id":69},"70":{"loc":{"start":{"line":81,"column":2},"end":{"line":83,"column":28}},"id":70},"71":{"loc":{"start":{"line":82,"column":15},"end":{"line":82,"column":39}},"id":71},"72":{"loc":{"start":{"line":83,"column":15},"end":{"line":83,"column":27}},"id":72},"73":{"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":71}},"id":73},"74":{"loc":{"start":{"line":84,"column":2},"end":{"line":84,"column":70}},"id":74},"75":{"loc":{"start":{"line":84,"column":36},"end":{"line":84,"column":69}},"id":75},"76":{"loc":{"start":{"line":84,"column":36},"end":{"line":84,"column":56}},"id":76},"77":{"loc":{"start":{"line":87,"column":0},"end":{"line":94,"column":0}},"id":77},"78":{"loc":{"start":{"line":88,"column":2},"end":{"line":88,"column":33}},"id":78},"79":{"loc":{"start":{"line":90,"column":4},"end":{"line":90,"column":64}},"id":79},"80":{"loc":{"start":{"line":90,"column":4},"end":{"line":90,"column":63}},"id":80},"81":{"loc":{"start":{"line":90,"column":22},"end":{"line":90,"column":62}},"id":81},"82":{"loc":{"start":{"line":94,"column":0},"end":{"line":94,"column":21}},"id":82},"83":{"loc":{"start":{"line":97,"column":2},"end":{"line":97,"column":30}},"id":83},"84":{"loc":{"start":{"line":98,"column":2},"end":{"line":98,"column":22}},"id":84},"85":{"loc":{"start":{"line":99,"column":2},"end":{"line":99,"column":26}},"id":85},"86":{"loc":{"start":{"line":100,"column":2},"end":{"line":100,"column":26}},"id":86},"87":{"loc":{"start":{"line":101,"column":2},"end":{"line":101,"column":13}},"id":87},"88":{"loc":{"start":{"line":104,"column":36},"end":{"line":104,"column":43}},"id":88},"89":{"loc":{"start":{"line":104,"column":46},"end":{"line":104,"column":64}},"id":89},"90":{"loc":{"start":{"line":104,"column":3},"end":{"line":104,"column":33}},"id":90}}}}}}